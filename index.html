<!DOCTYPE html>
<html lang="en">
  <!-- <script src="//in.fw-cdn.com/31930385/1010023.js" chat="true"></script> -->

  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="lyzr_chatbot" class="356b4a49-0953-4fec-a6d3-02cc1aab2346">
      <button
        class="fixed right-24 bottom-10 w-10 h-10 shadow-md"
        onclick="toggleChat()"
      >
        <div
          class="rounded-full w-12 h-12 grid place-items-center bg-black p-2 shadow-md"
        >
          <span id="unread"></span>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="currentColor"
            class="w-8 h-8 fill-white rounded-full"
          >
            <path
              d="M4.913 2.658c2.075-.27 4.19-.408 6.337-.408 2.147 0 4.262.139 6.337.408 1.922.25 3.291 1.861 3.405 3.727a4.403 4.403 0 0 0-1.032-.211 50.89 50.89 0 0 0-8.42 0c-2.358.196-4.04 2.19-4.04 4.434v4.286a4.47 4.47 0 0 0 2.433 3.984L7.28 21.53A.75.75 0 0 1 6 21v-4.03a48.527 48.527 0 0 1-1.087-.128C2.905 16.58 1.5 14.833 1.5 12.862V6.638c0-1.97 1.405-3.718 3.413-3.979Z"
            />
            <path
              d="M15.75 7.5c-1.376 0-2.739.057-4.086.169C10.124 7.797 9 9.103 9 10.609v4.285c0 1.507 1.128 2.814 2.67 2.94 1.243.102 2.5.157 3.768.165l2.782 2.781a.75.75 0 0 0 1.28-.53v-2.39l.33-.026c1.542-.125 2.67-1.433 2.67-2.94v-4.286c0-1.505-1.125-2.811-2.664-2.94A49.392 49.392 0 0 0 15.75 7.5Z"
            />
          </svg>
        </div>
      </button>

      <div
        id="myForm"
        class="flex flex-col bg-white h-[25rem] min-w-[18rem] max-w-[25rem] fixed right-8 bottom-16 rounded-md p-3 shadow-md border"
      >
        <div
          id="chatbot_not_found"
          class="hidden flex-col items-center justify-center w-full h-full bg-white text-slate-400"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-6 h-6"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"
            />
          </svg>
          <p class="mt-2 text-lg">No Chatbot found</p>
        </div>

        <div class="flex-none">
          <div
            id="header"
            class="py-2 flex justify-between items-center border-b border-slate-200"
          >
            <p id="chatbot_name" class="text-slate-800 font-medium text-md"></p>
            <button onclick="resetchat()">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-4 h-4"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"
                />
              </svg>
            </button>
          </div>
        </div>
        <div
          id="body"
          class="grow py-2 max-h-4/6 overflow-y-auto scroll-smooth no-scrollbar"
        >
          <ul id="chat-messages" class="list-none"></ul>
          <div id="chat-bottom"></div>
        </div>

        <div class="flex-none">
          <div
            id="footer"
            class="flex justify-between items-center rounded-lg border-t border-slate-200"
          >
            <textarea
              rows="1"
              id="editor"
              placeholder="Reply here..."
              onkeyup="onSend(event)"
              class="w-[100%] rounded-md placeholder:text-sm p-1 border border-transparent"
            ></textarea>
            <button onclick="onSend(event)">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-5 h-5 -rotate-45 text-slate-500"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"
                />
              </svg>
            </button>
            <button
              onclick="transfer()"
              style="
                border: 1px solid #ccc;
                padding: 5px 10px;
                background-color: #f5f5f5;
                color: #333;
                font-size: 14px;
                border-radius: 5px;
              "
            >
              Transfer
            </button>
          </div>
        </div>
      </div>
      <style>
        /* Hide scrollbar for Chrome, Safari and Opera */
        .no-scrollbar::-webkit-scrollbar {
          display: none;
        }
        /* Hide scrollbar for IE, Edge and Firefox */
        .no-scrollbar {
          -ms-overflow-style: none; /* IE and Edge */
          scrollbar-width: none; /* Firefox */
        }
        /**
          * ==============================================
          * Dot Typing
          * ==============================================
          */
        .dot-typing {
          position: relative;
          left: -9999px;
          width: 10px;
          height: 10px;
          border-radius: 5px;
          background-color: #777;
          color: #777;
          box-shadow: 9984px 0 0 0 #777, 9999px 0 0 0 #777, 10014px 0 0 0 #777;
          animation: dot-typing 1.5s infinite linear;
        }
        @keyframes dot-typing {
          0% {
            box-shadow: 9984px 0 0 0 #777, 9999px 0 0 0 #777, 10014px 0 0 0 #777;
          }
          16.667% {
            box-shadow: 9984px -10px 0 0 #777, 9999px 0 0 0 #777,
              10014px 0 0 0 #777;
          }
          33.333% {
            box-shadow: 9984px 0 0 0 #777, 9999px 0 0 0 #777, 10014px 0 0 0 #777;
          }
          50% {
            box-shadow: 9984px 0 0 0 #777, 9999px -10px 0 0 #777,
              10014px 0 0 0 #777;
          }
          66.667% {
            box-shadow: 9984px 0 0 0 #777, 9999px 0 0 0 #777, 10014px 0 0 0 #777;
          }
          83.333% {
            box-shadow: 9984px 0 0 0 #777, 9999px 0 0 0 #777,
              10014px -10px 0 0 #777;
          }
          100% {
            box-shadow: 9984px 0 0 0 #777, 9999px 0 0 0 #777, 10014px 0 0 0 #777;
          }
        }
      </style>
      <script
        type="module"
        src="https://cdn.skypack.dev/@vanillawc/wc-markdown"
      ></script>
      <script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio"></script>
      <script src="https://lyzr-chatbot-assets.s3.amazonaws.com/script.js"></script>
      <script>
        function transfer() {
          console.log("Transfering chat to agent...");
          console.log("Creating a new conversation...");

          fetch(
            "https://lyzr-team-9edf77b814f088617169425.freshchat.com/v2/conversations/",
            {
              method: "POST",
              headers: {
                accept: "application/json",
                "content-type": "application/JSON",
                Authorization:
                  "Bearer eyJraWQiOiJjdXN0b20tb2F1dGgta2V5aWQiLCJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmcmVzaGNoYXQiLCJzdWIiOiIwYWQ0NGNjOS1jN2M4LTQ2YjUtYTUwMS01YWViYWYwNzFmODciLCJjbGllbnRJZCI6ImZjLWFlMGY5OTk3LWI2OWEtNDNiNi1iZWVlLWZiY2FkNzI2YTIzMiIsInNjb3BlIjoiYWdlbnQ6cmVhZCBhZ2VudDpjcmVhdGUgYWdlbnQ6dXBkYXRlIGFnZW50OmRlbGV0ZSBjb252ZXJzYXRpb246Y3JlYXRlIGNvbnZlcnNhdGlvbjpyZWFkIGNvbnZlcnNhdGlvbjp1cGRhdGUgbWVzc2FnZTpjcmVhdGUgbWVzc2FnZTpnZXQgYmlsbGluZzp1cGRhdGUgcmVwb3J0czpmZXRjaCByZXBvcnRzOmV4dHJhY3QgcmVwb3J0czpyZWFkIHJlcG9ydHM6ZXh0cmFjdDpyZWFkIGFjY291bnQ6cmVhZCBkYXNoYm9hcmQ6cmVhZCB1c2VyOnJlYWQgdXNlcjpjcmVhdGUgdXNlcjp1cGRhdGUgdXNlcjpkZWxldGUgb3V0Ym91bmRtZXNzYWdlOnNlbmQgb3V0Ym91bmRtZXNzYWdlOmdldCBtZXNzYWdpbmctY2hhbm5lbHM6bWVzc2FnZTpzZW5kIG1lc3NhZ2luZy1jaGFubmVsczptZXNzYWdlOmdldCBtZXNzYWdpbmctY2hhbm5lbHM6dGVtcGxhdGU6Y3JlYXRlIG1lc3NhZ2luZy1jaGFubmVsczp0ZW1wbGF0ZTpnZXQgZmlsdGVyaW5ib3g6cmVhZCBmaWx0ZXJpbmJveDpjb3VudDpyZWFkIHJvbGU6cmVhZCBpbWFnZTp1cGxvYWQiLCJpc3MiOiJmcmVzaGNoYXQiLCJ0eXAiOiJCZWFyZXIiLCJleHAiOjIwMzI0ODUzNjQsImlhdCI6MTcxNjk1MjU2NCwianRpIjoiZTU3NTUzZjItN2ZmNC00YTdmLWExOGItMDVlYzkyYzcyMTcwIn0.Ijkrq4P1lWfzok4I41rhum5ohqwRz0Pc2XATgHufB0g",
              },

              body: JSON.stringify({
                status: "new",
                messages: [
                  {
                    message_parts: [
                      {
                        text: {
                          content: "",
                        },
                      },
                    ],
                    channel_id: "",
                    message_type: "normal",
                    actor_type: "user",
                    actor_id: "",
                  },
                ],
                channel_id: "",
                assigned_org_agent_id: "",
                assigned_agent_id: "",
                assigned_group_id: "",
                properties: {
                  priority: "Low",
                  cf_type: "General Query",
                  cf_rating: "3",
                  cf_supported_products: ["Freshchat", "Freshdesk"],
                },
                users: [
                  {
                    id: "",
                  },
                ],
              }),
            }
          )
            .then((response) => response.json())
            .then((data) => console.log(data))
            .catch((error) => {
              console.error("Error:", error);
            });
        }
      </script>
    </div>
  </body>
</html>
